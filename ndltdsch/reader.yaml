openapi: 3.0.3
info:
  title: åšç¢©å£«è«–æ–‡ç³»çµ± è®€è€…ç«¯
  description: 
  version: 1.0.0
  contact:
    name: Github åŸå§‹ç¢¼
    url: https://github.com/chouhsiang/thesis-swagger
servers:
  - url: https://ndltdsch.ncl.edu.tw/api/v1/{school}/thesis
    description: æ­£å¼ç’°å¢ƒ


paths:

  # è«–æ–‡ç®¡ç† API
  /theses/{id}:
    get:
      tags: [è«–æ–‡]
      summary: å–å¾—å–®ç¯‡è«–æ–‡è©³ç´°å…§å®¹
      description: ä¾è«–æ–‡ id å–å¾—è©³ç´°å…§å®¹
      parameters:
        - name: id
          in: path
          required: true
          description: è«–æ–‡å”¯ä¸€è­˜åˆ¥ç¢¼
          schema:
            type: string
            example: "1"
      responses:
        '200':
          description: æˆåŠŸå–å¾—è«–æ–‡å…§å®¹
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  errors:
                    type: array
                    items:
                      type: object
                    example: []
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    $ref: '#/components/schemas/ThesisDetail'

  /theses/search:
    get:
      tags: [è«–æ–‡]
      summary: æœå°‹è«–æ–‡
      description: ä¾å¤šç¨®æ¢ä»¶ï¼ˆå«é€²éšæª¢ç´¢ï¼‰æœå°‹è«–æ–‡ï¼Œå›å‚³è«–æ–‡åˆ—è¡¨
      parameters:
        - name: keyword
          in: query
          description: é—œéµå­—ï¼ˆæ¨™é¡Œã€æ‘˜è¦ã€é—œéµå­—ç­‰æ¨¡ç³Šæœå°‹ï¼‰
          schema:
            type: string
            example: "Open Access"
        - name: school
          in: query
          description: å­¸æ ¡åç¨±
          schema:
            type: string
            example: "åœ‹ç«‹è‡ºç£å¤§å­¸"
        - name: author
          in: query
          description: ä½œè€…
          schema:
            type: string
            example: "ç‹å°æ˜"
        - name: degree
          in: query
          description: å­¸ä½ï¼ˆç¢©å£«/åšå£«/å…¶ä»–ï¼‰
          schema:
            type: string
            enum: [ç¢©å£«, åšå£«, å…¶ä»–]
        - name: year
          in: query
          description: å¹´åº¦
          schema:
            type: integer
            example: 113
        - name: fullTextAvailable
          in: query
          description: æ˜¯å¦æœ‰å…¨æ–‡
          schema:
            type: boolean
            example: true
        - name: sort
          in: query
          description: æ’åºæ–¹å¼
          schema:
            type: string
            enum: [viewCount, downloadCount, year, relevance]
            default: relevance
        - name: limit
          in: query
          description: é™åˆ¶å›å‚³æœ€å¤§ç­†æ•¸ï¼ˆé è¨­ 10ï¼Œæœ€å¤§ 100ï¼‰
          schema:
            type: integer
            default: 10
            maximum: 100
      responses:
        '200':
          description: æˆåŠŸå–å¾—æœå°‹çµæœ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ThesisSearchResponse'

  # ä¸»é¡Œç­–å±• API
  /exhibitions:
    get:
      tags: [ä¸»é¡Œç­–å±•]
      summary: å–å¾—ä¸»é¡Œç­–å±•åˆ—è¡¨
      description: å–å¾—æ‰€æœ‰ä¸»é¡Œç­–å±•çš„åˆ—è¡¨ï¼ŒåŒ…å«ä¸»é¡Œåç¨±ã€åœ–ç¤ºå’Œèªªæ˜
      parameters:
        - name: page
          in: query
          description: åˆ†é é ç¢¼ï¼ˆé è¨­ç‚º 1ï¼‰
          required: false
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          description: æ¯é ç­†æ•¸ï¼ˆé è¨­ç‚º 10ï¼‰
          required: false
          schema:
            type: integer
            default: 10
        - name: category
          in: query
          description: ç­–å±•åˆ†é¡ç¯©é¸
          required: false
          schema:
            type: string
            enum: [ç†±é–€ä¸»é¡Œ, å­¸ç§‘é ˜åŸŸ, æ™‚äº‹è­°é¡Œ, ç‰¹è‰²ç ”ç©¶]
        - name: featured
          in: query
          description: æ˜¯å¦åªé¡¯ç¤ºç²¾é¸ç­–å±•
          required: false
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: æˆåŠŸå–å¾—ä¸»é¡Œç­–å±•åˆ—è¡¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExhibitionListResponse'

  /exhibitions/{id}:
    get:
      tags: [ä¸»é¡Œç­–å±•]
      summary: å–å¾—ä¸»é¡Œç­–å±•è©³ç´°å…§å®¹
      description: ä¾ç­–å±• ID å–å¾—è©³ç´°å…§å®¹ï¼ŒåŒ…å«è©²ä¸»é¡Œä¸‹çš„æ‰€æœ‰è«–æ–‡
      parameters:
        - name: id
          in: path
          required: true
          description: ä¸»é¡Œç­–å±•å”¯ä¸€è­˜åˆ¥ç¢¼
          schema:
            type: string
            example: "EXH-AI-EDU-2024"
        - name: page
          in: query
          description: è«–æ–‡åˆ—è¡¨åˆ†é é ç¢¼ï¼ˆé è¨­ç‚º 1ï¼‰
          required: false
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          description: æ¯é è«–æ–‡ç­†æ•¸ï¼ˆé è¨­ç‚º 20ï¼‰
          required: false
          schema:
            type: integer
            default: 20
        - name: sort
          in: query
          description: è«–æ–‡æ’åºæ–¹å¼
          required: false
          schema:
            type: string
            enum: [viewCount, downloadCount, year, relevance, featured]
            default: featured
      responses:
        '200':
          description: æˆåŠŸå–å¾—ä¸»é¡Œç­–å±•è©³ç´°å…§å®¹
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExhibitionDetailResponse'

  # æª¢ç´¢æ­·å² API
  /search-history:
    get:
      tags: [æª¢ç´¢æ­·å²]
      summary: å–å¾—æª¢ç´¢æ­·å²
      description: å–å¾—ä½¿ç”¨è€…çš„æœå°‹æ­·å²è¨˜éŒ„ï¼ŒæŒ‰æ™‚é–“å€’åºæ’åˆ—
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          description: åˆ†é é ç¢¼ï¼ˆé è¨­ç‚º 1ï¼‰
          required: false
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          description: æ¯é ç­†æ•¸ï¼ˆé è¨­ç‚º 20ï¼Œæœ€å¤§ 100ï¼‰
          required: false
          schema:
            type: integer
            default: 20
            maximum: 100
      responses:
        '200':
          description: æˆåŠŸå–å¾—æª¢ç´¢æ­·å²
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchHistoryResponse'

  # æ”¶è—ç®¡ç† API
  /savedtheses:
    get:
      tags: [æ”¶è—ç®¡ç†]
      summary: æˆ‘çš„æ”¶è—
      description: å–å¾—ä½¿ç”¨è€…æ”¶è—çš„è«–æ–‡åˆ—è¡¨
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          description: åˆ†é é ç¢¼ï¼ˆé è¨­ç‚º 1ï¼‰
          required: false
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          description: æ¯é ç­†æ•¸ï¼ˆé è¨­ç‚º 10ï¼‰
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: æˆåŠŸå–å¾—æˆ‘çš„æ”¶è—
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SavedThesesResponse'
    post:
      tags: [æ”¶è—ç®¡ç†]
      summary: æ–°å¢ä¸€ç­†æ”¶è—
      description: æ–°å¢ä¸€ç¯‡è«–æ–‡åˆ°æˆ‘çš„æ”¶è—
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [id]
              properties:
                id:
                  type: string
                  description: è«–æ–‡å”¯ä¸€è­˜åˆ¥ç¢¼
                  example: "1"
      responses:
        '200':
          description: æˆåŠŸæ–°å¢æ”¶è—
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /savedtheses/{id}:
    delete:
      tags: [æ”¶è—ç®¡ç†]
      summary: åˆªé™¤ä¸€ç­†æ”¶è—
      description: åˆªé™¤ä¸€ç¯‡å·²æ”¶è—çš„è«–æ–‡
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: è«–æ–‡å”¯ä¸€è­˜åˆ¥ç¢¼
      responses:
        '200':
          description: æˆåŠŸåˆªé™¤æ”¶è—
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  # æ’è¡Œæ¦œ API
  /rankings:
    get:
      tags: [æ’è¡Œæ¦œ]
      summary: å–å¾—å­¸æ ¡ç†±é–€æ’è¡Œæ¦œ
      description: å–å¾—å„æ ¡ç†±é–€è«–æ–‡æ’è¡Œæ¦œï¼Œæ”¯æ´æ’è¡Œé¡å‹ã€å¹´åº¦èˆ‡ç­†æ•¸é™åˆ¶
      parameters:
        - name: type
          in: query
          description: æ’è¡Œé¡å‹
          required: true
          schema:
            type: string
            enum: [total, reference, view, download]
        - name: year
          in: query
          description: å¹´åº¦ï¼ˆå¦‚ 113ã€112ã€111ï¼‰
          schema:
            type: integer
            example: 113
        - name: limit
          in: query
          description: é™åˆ¶å›å‚³æœ€å¤§ç­†æ•¸ï¼ˆé è¨­ 10ï¼Œæœ€å¤§ 100ï¼‰
          schema:
            type: integer
            default: 10
            maximum: 100
      responses:
        '200':
          description: æˆåŠŸå–å¾—æ’è¡Œæ¦œ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RankingResponse'

  # çµ±è¨ˆè³‡è¨Š API
  /statistics:
    get:
      tags: [çµ±è¨ˆè³‡è¨Š]
      summary: å–å¾—è«–æ–‡çµ±è¨ˆè³‡è¨Š
      description: å–å¾—å…¨ç«™è«–æ–‡ç¸½æ•¸ã€åƒèˆ‡å­¸æ ¡æ•¸ã€é–‹æ”¾å–ç”¨è«–æ–‡æ•¸ã€ç´¯è¨ˆä¸‹è¼‰æ•¸ã€æˆæ¬Šç‡ç­‰çµ±è¨ˆè³‡æ–™
      responses:
        '200':
          description: æˆåŠŸå–å¾—çµ±è¨ˆè³‡è¨Š
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatisticsResponse'


components:
  schemas:
    # å…¬å‘Šç›¸é—œ Schema
    AnnouncementListResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: array
          items:
            $ref: '#/components/schemas/Announcement'
        result_info:
          $ref: '#/components/schemas/PaginationInfo'

    AnnouncementDetailResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          $ref: '#/components/schemas/AnnouncementDetail'

    Announcement:
      type: object
      properties:
        id:
          type: string
          example: "2024011501"
        title:
          type: string
          example: "ç³»çµ±ç¶­è­·å…¬å‘Š"
        type:
          type: string
          example: "ç³»çµ±å…¬å‘Š"
        summary:
          type: string
          example: "ç³»çµ±ç¶­è­·é€šçŸ¥"
        date:
          type: string
          format: date
          example: "2024-01-15"

    AnnouncementDetail:
      allOf:
        - $ref: '#/components/schemas/Announcement'
        - type: object
          properties:
            content:
              type: string
              description: å®Œæ•´å…¬å‘Šå…§å®¹

    # è«–æ–‡ç›¸é—œ Schema
    ThesisDetail:
      type: object
      properties:
        id:
          type: string
          example: "1"
        title:
          type: string
          example: "å°ç£åšç¢©å£«è«–æ–‡ç¶²ç™¼å±•ç¾æ³èˆ‡å±•æœ›"
        author:
          type: string
          example: "ç‹å°æ˜"
        school:
          type: string
          example: "åœ‹ç«‹è‡ºç£å¤§å­¸"
        degree:
          type: string
          example: "ç¢©å£«"
        year:
          type: integer
          example: 113
        abstract:
          type: string
          example: "æœ¬è«–æ–‡æ¢è¨å°ç£åšç¢©å£«è«–æ–‡ç¶²çš„ç™¼å±•ç¾æ³..."
        keywords:
          type: array
          items:
            type: string
          example: ["è«–æ–‡ç¶²", "å°ç£", "Open Access"]

    ThesisSearchResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: array
          items:
            $ref: '#/components/schemas/ThesisDetail'
        result_info:
          $ref: '#/components/schemas/PaginationInfo'

    # ä¸»é¡Œç­–å±•ç›¸é—œ Schema
    ExhibitionListResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: array
          items:
            $ref: '#/components/schemas/Exhibition'
        result_info:
          $ref: '#/components/schemas/PaginationInfo'

    ExhibitionDetailResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          $ref: '#/components/schemas/ExhibitionDetail'

    Exhibition:
      type: object
      properties:
        id:
          type: string
          description: ä¸»é¡Œç­–å±•å”¯ä¸€è­˜åˆ¥ç¢¼
          example: "EXH-AI-EDU-2024"
        title:
          type: string
          description: ç­–å±•ä¸»é¡Œåç¨±
          example: "äººå·¥æ™ºæ…§åœ¨æ•™è‚²é ˜åŸŸçš„æ‡‰ç”¨"
        description:
          type: string
          description: ç­–å±•ä¸»é¡Œèªªæ˜
          example: "æ¢è¨äººå·¥æ™ºæ…§æŠ€è¡“å¦‚ä½•é©æ–°æ•™è‚²æ¨¡å¼ï¼ŒåŒ…å«æ©Ÿå™¨å­¸ç¿’ã€è‡ªç„¶èªè¨€è™•ç†ç­‰æŠ€è¡“åœ¨å€‹äººåŒ–å­¸ç¿’ã€æ™ºèƒ½è¼”å°ç­‰æ–¹é¢çš„æ‡‰ç”¨ç ”ç©¶"
        icon:
          type: string
          description: ä¸»é¡Œåœ–ç¤º URL æˆ–åœ–ç¤ºä»£ç¢¼
          example: "ğŸ¤–"
        category:
          type: string
          description: ç­–å±•åˆ†é¡
          enum: [ç†±é–€ä¸»é¡Œ, å­¸ç§‘é ˜åŸŸ, æ™‚äº‹è­°é¡Œ, ç‰¹è‰²ç ”ç©¶]
          example: "ç†±é–€ä¸»é¡Œ"
        thesis_count:
          type: integer
          description: è©²ä¸»é¡ŒåŒ…å«çš„è«–æ–‡æ•¸é‡
          example: 156
        view_count:
          type: integer
          description: ç­–å±•ç€è¦½æ¬¡æ•¸
          example: 2580
        featured:
          type: boolean
          description: æ˜¯å¦ç‚ºç²¾é¸ç­–å±•
          example: true
        created_at:
          type: string
          format: date-time
          description: ç­–å±•å»ºç«‹æ™‚é–“
          example: "2024-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          description: ç­–å±•æœ€å¾Œæ›´æ–°æ™‚é–“
          example: "2024-03-20T14:45:00Z"
        tags:
          type: array
          items:
            type: string
          description: ç­–å±•æ¨™ç±¤
          example: ["AI", "æ•™è‚²ç§‘æŠ€", "æ©Ÿå™¨å­¸ç¿’", "å€‹äººåŒ–å­¸ç¿’"]

    ExhibitionDetail:
      allOf:
        - $ref: '#/components/schemas/Exhibition'
        - type: object
          properties:
            curator_info:
              type: object
              description: ç­–å±•äººè³‡è¨Š
              properties:
                name:
                  type: string
                  example: "åœ‹ç«‹è‡ºç£å¤§å­¸è³‡è¨Šå·¥ç¨‹å­¸ç³»"
                description:
                  type: string
                  example: "ç”±è³‡å·¥ç³»æ•™æˆç¾¤å…±åŒç­–å±•ï¼Œç²¾é¸AIæ•™è‚²æ‡‰ç”¨ç›¸é—œå„ªè³ªè«–æ–‡"
            theses:
              type: array
              items:
                $ref: '#/components/schemas/ThesisDetail'
              description: ç­–å±•åŒ…å«çš„è«–æ–‡åˆ—è¡¨
            theses_info:
              $ref: '#/components/schemas/PaginationInfo'

    # LLM èªç¾©æª¢ç´¢ç›¸é—œ Schema
    LLMResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: object
          properties:
            answer:
              type: string
              description: LLM ç”Ÿæˆçš„æ™ºèƒ½å›æ‡‰
              example: "æ ¹æ“šæ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ç‚ºæ‚¨æ‰¾åˆ°äº†å¹¾ç¯‡é—œæ–¼äººå·¥æ™ºæ…§åœ¨æ•™è‚²é ˜åŸŸæ‡‰ç”¨çš„å„ªè³ªè«–æ–‡ã€‚é€™äº›ç ”ç©¶ä¸»è¦èšç„¦åœ¨æ©Ÿå™¨å­¸ç¿’æŠ€è¡“å¦‚ä½•æ”¹å–„æ•™å­¸æ•ˆæœã€å€‹äººåŒ–å­¸ç¿’ç³»çµ±çš„è¨­è¨ˆï¼Œä»¥åŠAIè¼”åŠ©æ•™å­¸å·¥å…·çš„é–‹ç™¼ã€‚ä»¥ä¸‹æ˜¯ç›¸é—œçš„è«–æ–‡æ¨è–¦ï¼š"
            query_analysis:
              type: object
              description: æŸ¥è©¢åˆ†æçµæœ
              properties:
                keywords:
                  type: array
                  items:
                    type: string
                  description: æå–çš„é—œéµå­—
                  example: ["äººå·¥æ™ºæ…§", "æ•™è‚²", "æ©Ÿå™¨å­¸ç¿’", "æ•™å­¸æ‡‰ç”¨"]
                intent:
                  type: string
                  description: æŸ¥è©¢æ„åœ–
                  example: "å°‹æ‰¾AIåœ¨æ•™è‚²é ˜åŸŸçš„æ‡‰ç”¨ç ”ç©¶"
                suggested_filters:
                  type: object
                  description: å»ºè­°çš„æœå°‹ç¯©é¸æ¢ä»¶
                  properties:
                    keywords:
                      type: array
                      items:
                        type: string
                      example: ["artificial intelligence", "education", "machine learning"]
                    subjects:
                      type: array
                      items:
                        type: string
                      example: ["æ•™è‚²å­¸", "è³‡è¨Šå·¥ç¨‹"]
            recommended_theses:
              type: array
              items:
                $ref: '#/components/schemas/RecommendedThesis'
              description: æ¨è–¦çš„ç›¸é—œè«–æ–‡
            processing_time:
              type: number
              format: float
              description: è™•ç†æ™‚é–“ï¼ˆç§’ï¼‰
              example: 1.25

    RecommendedThesis:
      type: object
      properties:
        id:
          type: string
          example: "thesis_001"
        title:
          type: string
          example: "æ©Ÿå™¨å­¸ç¿’åœ¨å€‹äººåŒ–æ•™è‚²ç³»çµ±ä¸­çš„æ‡‰ç”¨ç ”ç©¶"
        author:
          type: string
          example: "å¼µå°æ˜"
        school:
          type: string
          example: "åœ‹ç«‹è‡ºç£å¤§å­¸"
        year:
          type: integer
          example: 113
        relevance_score:
          type: number
          format: float
          description: ç›¸é—œæ€§è©•åˆ†ï¼ˆ0-1ï¼‰
          example: 0.92
        summary:
          type: string
          description: è«–æ–‡æ‘˜è¦ï¼ˆå¯é¸ï¼‰
          example: "æœ¬ç ”ç©¶æ¢è¨æ©Ÿå™¨å­¸ç¿’æŠ€è¡“åœ¨å€‹äººåŒ–æ•™è‚²ç³»çµ±ä¸­çš„æ‡‰ç”¨ï¼Œæå‡ºäº†ä¸€å¥—åŸºæ–¼å­¸ç¿’è€…è¡Œç‚ºåˆ†æçš„æ™ºèƒ½æ¨è–¦ç®—æ³•..."
        match_reasons:
          type: array
          items:
            type: string
          description: åŒ¹é…åŸå› 
          example: ["é—œéµå­—åŒ¹é…: æ©Ÿå™¨å­¸ç¿’", "ä¸»é¡Œç›¸é—œ: æ•™è‚²æŠ€è¡“", "ç ”ç©¶æ–¹æ³•ç›¸ä¼¼"]

    # æª¢ç´¢æ­·å²ç›¸é—œ Schema
    SearchHistoryResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: array
          items:
            $ref: '#/components/schemas/SearchHistoryItem'
        result_info:
          $ref: '#/components/schemas/PaginationInfo'

    SearchHistoryItem:
      type: object
      properties:
        id:
          type: string
          description: æª¢ç´¢è¨˜éŒ„å”¯ä¸€è­˜åˆ¥ç¢¼
          example: "search_123456"
        query:
          type: string
          description: æœå°‹é—œéµå­—
          example: "Open Access"
        filters:
          type: object
          description: æœå°‹ç¯©é¸æ¢ä»¶
          properties:
            school:
              type: string
              example: "åœ‹ç«‹è‡ºç£å¤§å­¸"
            year:
              type: integer
              example: 113
            degree:
              type: string
              example: "ç¢©å£«"
        results_count:
          type: integer
          description: æœå°‹çµæœæ•¸é‡
          example: 25
        search_time:
          type: string
          format: date-time
          description: æœå°‹æ™‚é–“
          example: "2024-01-15T10:30:00Z"

    # å€‹äººè³‡æ–™ç›¸é—œ Schema
    UserProfileResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          $ref: '#/components/schemas/UserProfile'

    UserProfile:
      type: object
      properties:
        name:
          type: string
          example: "ç‹å°æ˜"
        email:
          type: string
          example: "user@example.com"

    SavedThesesResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: array
          items:
            $ref: '#/components/schemas/ThesisDetail'

    # æ’è¡Œæ¦œç›¸é—œ Schema
    RankingResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: array
          items:
            type: object
            properties:
              rank:
                type: integer
                example: 1
              school:
                type: string
                example: "åœ‹ç«‹è‡ºç£å¤§å­¸"
              count:
                type: integer
                example: 12456

    # çµ±è¨ˆè³‡è¨Š Schema
    StatisticsResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: object
          properties:
            totalTheses:
              type: integer
              description: è«–æ–‡ç¸½æ•¸
              example: 1234567
            totalSchools:
              type: integer
              description: åƒèˆ‡å­¸æ ¡æ•¸
              example: 145
            openAccessTheses:
              type: integer
              description: é–‹æ”¾å–ç”¨è«–æ–‡æ•¸
              example: 890123
            authorizationRate:
              type: number
              format: float
              description: æˆæ¬Šç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
              example: 72.1


    # é€šç”¨ Schema
    SuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        errors:
          type: array
          items:
            type: object
          example: []
        messages:
          type: array
          items:
            type: object
          example: []
        result:
          type: object
          nullable: true

    # åˆ†é è³‡è¨Š Schema
    PaginationInfo:
      type: object
      properties:
        page:
          type: integer
          description: ç•¶å‰é ç¢¼
          example: 1
        per_page:
          type: integer
          description: æ¯é ç­†æ•¸
          example: 10
        count:
          type: integer
          description: ç•¶å‰é é¢ç­†æ•¸
          example: 10
        total_count:
          type: integer
          description: ç¸½ç­†æ•¸
          example: 200
        total_pages:
          type: integer
          description: ç¸½é æ•¸
          example: 20

  responses:
    BadRequest:
      description: éŒ¯èª¤çš„è«‹æ±‚åƒæ•¸
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              errors:
                type: array
                items:
                  type: object
                  properties:
                    code:
                      type: integer
                      example: 1001
                    message:
                      type: string
                      example: "Invalid query parameter"
              messages:
                type: array
                items:
                  type: object
                example: []
              result:
                nullable: true

    NotFound:
      description: æ‰¾ä¸åˆ°æŒ‡å®šè³‡æº
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              errors:
                type: array
                items:
                  type: object
                  properties:
                    code:
                      type: integer
                      example: 1404
                    message:
                      type: string
                      example: "Resource not found"
              messages:
                type: array
                items:
                  type: object
                example: []
              result:
                nullable: true

    InternalServerError:
      description: ä¼ºæœå™¨éŒ¯èª¤
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              errors:
                type: array
                items:
                  type: object
                  properties:
                    code:
                      type: integer
                      example: 1002
                    message:
                      type: string
                      example: "Internal server error"
              messages:
                type: array
                items:
                  type: object
                example: []
              result:
                nullable: true

    Unauthorized:
      description: æœªæˆæ¬Šæˆ–ä»¤ç‰Œç„¡æ•ˆ
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: false
              errors:
                type: array
                items:
                  type: object
                  properties:
                    code:
                      type: integer
                      example: 1401
                    message:
                      type: string
                      example: "Unauthorized access"
              messages:
                type: array
                items:
                  type: object
                example: []
              result:
                nullable: true

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT æˆæ¬Šä»¤ç‰Œï¼Œæ ¼å¼ï¼šBearer {token}