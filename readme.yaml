openapi: 3.0.3
info:
  title: è«–æ–‡ç³»çµ±æ¶æ§‹èªªæ˜ï¼ˆå³ä¸Šè§’ã€Œé¸æ“‡ç³»çµ±ã€æŸ¥çœ‹å„ç³»çµ±APIï¼‰
  description: |

    
    # è«–æ–‡ç³»çµ±æ•´é«”æ¶æ§‹

    æœ¬ç³»çµ±åŒ…å«å…©å¤§ä¸»è¦ç³»çµ±ï¼Œåˆ†åˆ¥æœå‹™ä¸åŒçš„ä½¿ç”¨è€…ç¾¤é«”å’ŒåŠŸèƒ½éœ€æ±‚ï¼š

    ## ğŸ“ åšç¢©å£«è«–æ–‡ç³»çµ± (NDLTD)
    
    **æœå‹™å°è±¡ï¼š** åšå£«ã€ç¢©å£«ç ”ç©¶ç”ŸåŠä¸€èˆ¬è®€è€…
    
    **ç³»çµ±ç‰¹è‰²ï¼š**
    - åœ‹å®¶ç´šè«–æ–‡å…¸è—èˆ‡æª¢ç´¢å¹³å°
    - èˆ‡åœ‹å®¶åœ–æ›¸é¤¨æ•´åˆ
    - æä¾›å®Œæ•´çš„è«–æ–‡ç”Ÿå‘½é€±æœŸç®¡ç†
    - æ”¯æ´å°å¤– API ä»‹æ¥æœå‹™

    ### ğŸ“š åšç¢©å£«è«–æ–‡ç³»çµ± è®€è€…ç«¯
    - **åŠŸèƒ½ï¼š** è«–æ–‡æª¢ç´¢ã€ç€è¦½ã€ä¸‹è¼‰
    - **ç‰¹è‰²ï¼š** 
      - æ”¯æ´å¤šç¨®æª¢ç´¢æ–¹å¼ï¼ˆé—œéµå­—ã€é€²éšæœå°‹ï¼‰
      - å€‹äººæ”¶è—ç®¡ç†
      - æª¢ç´¢æ­·å²è¨˜éŒ„
      - LLM èªç¾©æª¢ç´¢ï¼ˆAI æ™ºèƒ½æ¨è–¦ï¼‰
      - çµ±è¨ˆè³‡è¨ŠæŸ¥è©¢
    - **ä½¿ç”¨è€…ï¼š** ä¸€èˆ¬è®€è€…ã€ç ”ç©¶äººå“¡ã€å­¸ç”Ÿ

    ### ğŸ›ï¸ åšç¢©å£«è«–æ–‡ç³»çµ± åœ‹åœ–ç«¯
    - **åŠŸèƒ½ï¼š** è«–æ–‡å¯©æŸ¥ã€ç®¡ç†ã€çµ±è¨ˆ
    - **ç‰¹è‰²ï¼š**
      - è«–æ–‡å¯©æŸ¥æµç¨‹ç®¡ç†
      - é€€ä»¶è™•ç†èˆ‡è¿½è¹¤
      - ç³»çµ±çµ±è¨ˆèˆ‡å ±è¡¨
      - ä½¿ç”¨è€…æ¬Šé™ç®¡ç†
    - **ä½¿ç”¨è€…ï¼š** åœ‹å®¶åœ–æ›¸é¤¨ç®¡ç†å“¡ã€å¯©æŸ¥äººå“¡

    ### ğŸ”Œ åšç¢©å£«è«–æ–‡ç³»çµ± å°å¤–APIä»‹æ¥æœå‹™
    - **åŠŸèƒ½ï¼š** æä¾›æ¨™æº–åŒ– API ä»‹é¢
    - **ç‰¹è‰²ï¼š**
      - RESTful API è¨­è¨ˆ
      - æ”¯æ´ç¬¬ä¸‰æ–¹ç³»çµ±æ•´åˆ
      - è³‡æ–™æ¨™æº–åŒ–è¼¸å‡º
      - å®‰å…¨èªè­‰æ©Ÿåˆ¶
    - **ä½¿ç”¨è€…ï¼š** å¤–éƒ¨ç³»çµ±é–‹ç™¼è€…ã€åˆä½œæ©Ÿæ§‹

    ---

    ## ğŸ« å¤§å­¸è«–æ–‡ç³»çµ± (NDLTDSCH)
    
    **æœå‹™å°è±¡ï¼š** å„å¤§å­¸é™¢æ ¡åŠå…¶å¸«ç”Ÿ
    
    **ç³»çµ±ç‰¹è‰²ï¼š**
    - æ ¡åœ’ç´šè«–æ–‡ç®¡ç†å¹³å°
    - æ”¯æ´å¤šæ ¡éƒ¨ç½²
    - å®¢è£½åŒ–æ ¡åœ’éœ€æ±‚
    - èˆ‡åšç¢©å£«è«–æ–‡ç³»çµ±ä»‹æ¥

    ### ğŸšª å¤§å­¸è«–æ–‡ç³»çµ± å…¥å£é 
    - **åŠŸèƒ½ï¼š** ç³»çµ±å…¥å£èˆ‡å°èˆª
    - **ç‰¹è‰²ï¼š**
      - çµ±ä¸€èº«ä»½èªè­‰
      - è§’è‰²æ¬Šé™åˆ†æµ
      - ç³»çµ±å…¬å‘Šç®¡ç†
      - ä½¿ç”¨èªªæ˜èˆ‡å¹«åŠ©
    - **ä½¿ç”¨è€…ï¼š** æ‰€æœ‰ç³»çµ±ä½¿ç”¨è€…

    ### ğŸ›ï¸ å¤§å­¸è«–æ–‡ç³»çµ± å­¸æ ¡ç«¯
    - **åŠŸèƒ½ï¼š** å­¸æ ¡ç®¡ç†åŠŸèƒ½
    - **ç‰¹è‰²ï¼š**
      - å­¸ç”Ÿè«–æ–‡å¯©æ ¸
      - æŒ‡å°æ•™æˆç®¡ç†
      - ç³»æ‰€æ¬Šé™è¨­å®š
      - ç•¢æ¥­å¯©æŸ¥æµç¨‹
    - **ä½¿ç”¨è€…ï¼š** å­¸æ ¡ç®¡ç†å“¡ã€ç³»æ‰€æ‰¿è¾¦äººå“¡

    ### ğŸ‘¨â€ğŸ“ å¤§å­¸è«–æ–‡ç³»çµ± å­¸ç”Ÿç«¯
    - **åŠŸèƒ½ï¼š** å­¸ç”Ÿè«–æ–‡ä¸Šå‚³èˆ‡ç®¡ç†
    - **ç‰¹è‰²ï¼š**
      - è«–æ–‡æª”æ¡ˆä¸Šå‚³
      - è«–æ–‡è³‡æ–™å¡«å¯«
      - æˆæ¬Šè¨­å®šç®¡ç†
      - å¯©æŸ¥ç‹€æ…‹è¿½è¹¤
      - é€€ä»¶è™•ç†ç”³è«‹
    - **ä½¿ç”¨è€…ï¼š** åœ¨å­¸å­¸ç”Ÿã€ç•¢æ¥­ç”Ÿ

    ### ğŸ” å¤§å­¸è«–æ–‡ç³»çµ± æª¢ç´¢ç«¯
    - **åŠŸèƒ½ï¼š** æ ¡åœ’è«–æ–‡æª¢ç´¢
    - **ç‰¹è‰²ï¼š**
      - æ ¡å…§è«–æ–‡æœå°‹
      - æ¬Šé™æ§åˆ¶æª¢ç´¢
      - çµ±è¨ˆåˆ†æåŠŸèƒ½
      - èˆ‡åœ‹å®¶ç³»çµ±ä»‹æ¥
    - **ä½¿ç”¨è€…ï¼š** æ ¡å…§å¸«ç”Ÿã€ç ”ç©¶äººå“¡


    ## ğŸ“‹ æŠ€è¡“ç‰¹è‰²

    - **çµ±ä¸€ API æ ¼å¼ï¼š** æ¡ç”¨ Cloudflare API æ¨™æº–æ ¼å¼
    - **å®‰å…¨èªè­‰ï¼š** JWT Bearer Token èªè­‰æ©Ÿåˆ¶
    - **å¤šèªè¨€æ”¯æ´ï¼š** ä¸­è‹±æ–‡ä»‹é¢èˆ‡å…§å®¹
    - **éŸ¿æ‡‰å¼è¨­è¨ˆï¼š** æ”¯æ´å„ç¨®è£ç½®ç€è¦½
    - **é«˜å¯ç”¨æ€§ï¼š** åˆ†æ•£å¼æ¶æ§‹è¨­è¨ˆ
    - **æ¨™æº–åŒ–ä»‹æ¥ï¼š** OpenAPI 3.0 è¦ç¯„

  version: 1.0.0
  contact:
    name: Github åŸå§‹ç¢¼
    url: https://github.com/chouhsiang/thesis-swagger

servers:
  - url: https://example.com/api/v1
    description: ç¯„ä¾‹ä¼ºæœå™¨

paths:
  /example/success:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: æˆåŠŸå›æ‡‰ç¯„ä¾‹ (200)
      description: å±•ç¤ºæ¨™æº–çš„æˆåŠŸå›æ‡‰æ ¼å¼ (Cloudflare API æ¨™æº–)
      responses:
        '200':
          description: æˆåŠŸå›æ‡‰ç¯„ä¾‹
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  errors:
                    type: array
                    items:
                      type: object
                    example: []
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    properties:
                      message:
                        type: string
                        example: "æ“ä½œæˆåŠŸå®Œæˆ"
                      data:
                        type: object
                        properties:
                          id:
                            type: string
                            example: "12345"
                          name:
                            type: string
                            example: "ç¯„ä¾‹è³‡æ–™"
                          created_at:
                            type: string
                            format: date-time
                            example: "2024-09-24T14:30:00Z"

  /example/bad-request:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: åƒæ•¸éŒ¯èª¤ç¯„ä¾‹ (400)
      description: å±•ç¤ºåƒæ•¸éŒ¯èª¤çš„å›æ‡‰æ ¼å¼
      responses:
        '400':
          description: åƒæ•¸éŒ¯èª¤
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 1001
                        message:
                          type: string
                          example: "ç¼ºå°‘å¿…è¦åƒæ•¸ 'title'"
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    nullable: true
                    example: null

  /example/unauthorized:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: æœªæˆæ¬Šç¯„ä¾‹ (401)
      description: å±•ç¤ºæœªæˆæ¬ŠéŒ¯èª¤çš„å›æ‡‰æ ¼å¼
      responses:
        '401':
          description: æœªæˆæ¬Š
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 1401
                        message:
                          type: string
                          example: "è«‹æä¾›æœ‰æ•ˆçš„æˆæ¬Šä»¤ç‰Œ"
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    nullable: true
                    example: null

  /example/forbidden:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: æ¬Šé™ä¸è¶³ç¯„ä¾‹ (403)
      description: å±•ç¤ºæ¬Šé™ä¸è¶³éŒ¯èª¤çš„å›æ‡‰æ ¼å¼
      responses:
        '403':
          description: æ¬Šé™ä¸è¶³
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 1403
                        message:
                          type: string
                          example: "ä½¿ç”¨è€…æ¬Šé™ä¸è¶³ï¼Œç„¡æ³•å­˜å–è©²è³‡æº"
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    nullable: true
                    example: null

  /example/not-found:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: è³‡æºä¸å­˜åœ¨ç¯„ä¾‹ (404)
      description: å±•ç¤ºè³‡æºä¸å­˜åœ¨éŒ¯èª¤çš„å›æ‡‰æ ¼å¼
      responses:
        '404':
          description: è³‡æºä¸å­˜åœ¨
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 1404
                        message:
                          type: string
                          example: "æ‰¾ä¸åˆ°æŒ‡å®šçš„è«–æ–‡è³‡æ–™"
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    nullable: true
                    example: null

  /example/validation-error:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: é©—è­‰å¤±æ•—ç¯„ä¾‹ (422)
      description: å±•ç¤ºè³‡æ–™é©—è­‰å¤±æ•—çš„å›æ‡‰æ ¼å¼
      responses:
        '422':
          description: é©—è­‰å¤±æ•—
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 1422
                        message:
                          type: string
                          example: "è³‡æ–™é©—è­‰å¤±æ•—"
                        field:
                          type: string
                          example: "email"
                        details:
                          type: string
                          example: "é›»å­éƒµä»¶æ ¼å¼ä¸æ­£ç¢º"
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    nullable: true
                    example: null

  /example/server-error:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: ä¼ºæœå™¨éŒ¯èª¤ç¯„ä¾‹ (500)
      description: å±•ç¤ºå…§éƒ¨ä¼ºæœå™¨éŒ¯èª¤çš„å›æ‡‰æ ¼å¼
      responses:
        '500':
          description: ä¼ºæœå™¨éŒ¯èª¤
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: false
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                          example: 1500
                        message:
                          type: string
                          example: "å…§éƒ¨ä¼ºæœå™¨éŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦"
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: object
                    nullable: true
                    example: null

  /example/paginated-response:
    get:
      tags: [APIå›æ‡‰ç¯„ä¾‹]
      summary: åˆ†é å›æ‡‰ç¯„ä¾‹
      description: å±•ç¤ºåŒ…å«åˆ†é è³‡è¨Šçš„æˆåŠŸå›æ‡‰æ ¼å¼
      responses:
        '200':
          description: åˆ†é å›æ‡‰ç¯„ä¾‹
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  errors:
                    type: array
                    items:
                      type: object
                    example: []
                  messages:
                    type: array
                    items:
                      type: object
                    example: []
                  result:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "1"
                        title:
                          type: string
                          example: "ç¯„ä¾‹è«–æ–‡æ¨™é¡Œ"
                        author:
                          type: string
                          example: "ç‹å°æ˜"
                    example:
                      - id: "1"
                        title: "äººå·¥æ™ºæ…§åœ¨æ•™è‚²é ˜åŸŸçš„æ‡‰ç”¨ç ”ç©¶"
                        author: "ç‹å°æ˜"
                      - id: "2"
                        title: "æ©Ÿå™¨å­¸ç¿’æ–¼é†«ç™‚è¨ºæ–·ä¹‹ç ”ç©¶"
                        author: "æå°è¯"
                  result_info:
                    type: object
                    properties:
                      page:
                        type: integer
                        example: 1
                      per_page:
                        type: integer
                        example: 10
                      count:
                        type: integer
                        example: 2
                      total_count:
                        type: integer
                        example: 156
                      total_pages:
                        type: integer
                        example: 16

components:
